{"version":3,"sources":["components/PostsList/PostsList.jsx","api/api.js","api/comments.js","components/NewCommentForm/NewCommentForm.jsx","api/posts.js","components/PostDetails/PostDetails.jsx","App.jsx","api/users.js","index.js"],"names":["PostsList","posts","postId","onSelectPost","className","map","id","userId","title","key","type","onClick","getData","url","fetch","then","response","json","result","data","getPostComments","addComment","name","email","body","method","JSON","stringify","headers","NewCommentForm","setComments","useState","comment","setComment","addFieldToComment","event","target","value","createdComment","addNewComment","a","onSubmit","preventDefault","placeholder","onChange","getAllPosts","PostDetails","post","setPost","comments","hideComments","setHideComments","useEffect","getPostById","length","commentId","App","setPosts","setPostId","users","setUsers","postsAPI","onSelectUser","selectedUserId","onUnselectPost","selectedPostId","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1c839c3c.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './PostsList.scss';\n\nexport const PostsList = ({\n  posts,\n  postId,\n  onSelectPost,\n}) => (\n  <div className=\"PostsList\">\n    <h2>Posts:</h2>\n\n    <ul className=\"PostsList__list\">\n      {posts.map(({ id, userId, title }) => (\n        <li className=\"PostsList__item\" key={id}>\n          <div>\n            <b>\n              [User #\n              {userId}\n              ]:\n              {' '}\n            </b>\n            {title}\n          </div>\n\n          {postId === id ? (\n            <button\n              type=\"button\"\n              className=\"PostsList__button button\"\n              onClick={() => onSelectPost(0)}\n            >\n              Closse\n            </button>\n          ) : (\n            <button\n              type=\"button\"\n              className=\"PostsList__button button\"\n              onClick={() => onSelectPost(id)}\n            >\n              Open\n            </button>\n          )}\n\n        </li>\n      ))}\n    </ul>\n  </div>\n);\n\nPostsList.propTypes = {\n  posts: PropTypes.arrayOf(PropTypes.shape).isRequired,\n  postId: PropTypes.number.isRequired,\n  onSelectPost: PropTypes.func.isRequired,\n};\n","const BASE_URL = 'https://mate-api.herokuapp.com';\n\nexport const getData = url => fetch(`${BASE_URL}/${url}`)\n  .then(response => response.json())\n  .then(result => result.data);\n","import { getData } from './api';\n\nconst BASE_URL = 'https://mate-api.herokuapp.com';\nconst url = 'comments';\n\nexport const getPostComments = postId => getData(`${url}?postId=${postId}`);\n\nexport const addComment = ({\n  postId, name, email, body,\n}) => (fetch(`${BASE_URL}/${url}`, {\n  method: 'POST',\n  body: JSON.stringify({\n    postId, name, email, body,\n  }),\n  headers: { 'Content-type': 'application/json; charset=UTF-8' },\n})\n  .then(response => response.json())\n  .then(result => result.data));\n\nexport const deleteComment = commentId => fetch(\n  `${BASE_URL}/${url}/${commentId}`, {\n    method: 'DELETE',\n  },\n)\n  .then(response => response.json())\n  .then(result => result.data);\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './NewCommentForm.scss';\n\nimport { getPostComments, addComment } from '../../api/comments';\n\nexport const NewCommentForm = ({ postId, setComments }) => {\n  const [comment, setComment] = useState({\n    postId,\n    name: '',\n    email: '',\n    body: '',\n  });\n\n  const addFieldToComment = (event) => {\n    const { name, value } = event.target;\n\n    setComment(createdComment => ({\n      ...createdComment,\n      [name]: value,\n    }));\n  };\n\n  const clearForm = () => {\n    setComment({\n      postId,\n      name: '',\n      email: '',\n      body: '',\n    });\n  };\n\n  const addNewComment = async() => {\n    await addComment(comment);\n    getPostComments(postId).then(setComments);\n  };\n\n  return (\n    <form\n      className=\"NewCommentForm\"\n      onSubmit={(event) => {\n        event.preventDefault();\n        addNewComment();\n        clearForm();\n      }}\n    >\n      <div className=\"form-field\">\n        <input\n          type=\"text\"\n          name=\"name\"\n          value={comment.name}\n          placeholder=\"Your name\"\n          className=\"NewCommentForm__input\"\n          onChange={addFieldToComment}\n        />\n      </div>\n\n      <div className=\"form-field\">\n        <input\n          type=\"text\"\n          name=\"email\"\n          value={comment.email}\n          placeholder=\"Your email\"\n          className=\"NewCommentForm__input\"\n          onChange={addFieldToComment}\n        />\n      </div>\n\n      <div className=\"form-field\">\n        <textarea\n          name=\"body\"\n          value={comment.body}\n          placeholder=\"Type comment here\"\n          className=\"NewCommentForm__input\"\n          onChange={addFieldToComment}\n        />\n      </div>\n\n      <button\n        type=\"submit\"\n        className=\"NewCommentForm__submit-button button\"\n\n      >\n        Add a comment\n      </button>\n    </form>\n  );\n};\n\nNewCommentForm.propTypes = {\n  postId: PropTypes.number.isRequired,\n  setComments: PropTypes.func.isRequired,\n};\n","import { getData } from './api';\n\nconst url = 'posts';\n\nexport const getAllPosts = () => getData(url);\n\nexport const getUserPosts = userId => getData(`${url}?userId=${userId}`);\n\nexport const getPostById = postId => getData(`${url}/${postId}`);\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './PostDetails.scss';\n\nimport { NewCommentForm } from '../NewCommentForm';\n\nimport { getPostById } from '../../api/posts';\nimport { getPostComments, deleteComment } from '../../api/comments';\n\nexport const PostDetails = ({ postId }) => {\n  const [post, setPost] = useState(null);\n  const [comments, setComments] = useState([]);\n  const [hideComments, setHideComments] = useState(false);\n\n  useEffect(() => {\n    getPostById(postId).then(setPost);\n    getPostComments(postId).then(setComments);\n  }, [postId]);\n\n  return (\n    <>\n      {post && (\n        <div className=\"PostDetails\">\n          <h2>Post details:</h2>\n\n          <section className=\"PostDetails__post\">\n            <p>{post.title}</p>\n          </section>\n\n          <section className=\"PostDetails__comments\">\n            {!!comments.length && (\n              <button\n                type=\"button\"\n                className=\"button\"\n                onClick={() => (hideComments\n                  ? setHideComments(false)\n                  : setHideComments(true))\n                }\n              >\n                {hideComments\n                  ? `Show ${comments.length} comments`\n                  : `Hide ${comments.length} comments`\n                }\n              </button>\n            )}\n\n            {!hideComments && (\n            <ul className=\"PostDetails__list\">\n              {comments.map(({ id, body }) => (\n                <li className=\"PostDetails__list-item\" key={id}>\n                  <button\n                    type=\"button\"\n                    className=\"PostDetails__remove-button button\"\n                    onClick={async() => {\n                      await deleteComment(id);\n                      getPostComments(postId).then(setComments);\n                    }}\n                  >\n                    X\n                  </button>\n                  <p>{body}</p>\n                </li>\n              ))}\n            </ul>\n            )}\n          </section>\n\n          <section>\n            <div className=\"PostDetails__form-wrapper\">\n              <NewCommentForm postId={postId} setComments={setComments} />\n            </div>\n          </section>\n        </div>\n      )}\n    </>\n  );\n};\n\nPostDetails.propTypes = {\n  postId: PropTypes.number.isRequired,\n};\n","/* eslint-disable */\nimport React, { useEffect, useState } from 'react';\n\nimport './App.scss';\nimport './styles/general.scss';\n\nimport { PostsList } from './components/PostsList';\nimport { PostDetails } from './components/PostDetails';\n\nimport * as postsAPI from './api/posts';\nimport { getAllUsers } from './api/users';\n\nconst App = () => {\n  const [posts, setPosts] = useState([]);\n  const [postId, setPostId] = useState(0);\n  const [users, setUsers] = useState([]);\n\n  useEffect(() => {\n    postsAPI.getAllPosts().then(setPosts);\n    getAllUsers().then(setUsers);\n  }, []);\n\n  const onSelectUser = (selectedUserId) => {\n    +selectedUserId\n      ? postsAPI.getUserPosts(selectedUserId).then(setPosts)\n      : postsAPI.getAllPosts().then(setPosts);\n\n    onUnselectPost();\n  };\n\n  const onSelectPost = (selectedPostId) => {\n    selectedPostId\n    ? setPostId(selectedPostId)\n    : setPostId(0);\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App__header\">\n        <label>\n          Select a user: &nbsp;\n          <select\n            className=\"App__user-selector\"\n            onChange={(event) => {\n              onSelectUser(event.target.value);\n            }}\n          >\n            <option value=\"0\">All users</option>\n            {users.map(({ id, name }) => (\n              <option value={id} key={id}>{name}</option>\n            ))}\n          </select>\n        </label>\n      </header>\n\n      <main className=\"App__main\">\n        <div className=\"App__sidebar\">\n          <PostsList\n            posts={posts}\n            postId={postId}\n            onSelectPost={onSelectPost}\n          />\n        </div>\n\n        <div className=\"App__content\">\n          <PostDetails postId={postId} />\n        </div>\n      </main>\n    </div>\n  );\n};\n\nexport default App;\n","import { getData } from './api';\n\nconst url = 'users';\n\nexport const getAllUsers = () => getData(url);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}